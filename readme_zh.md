## 注意:
这个模块允许您使用微信支付  
微信支付当前仅支持人民币支付，人民币`ISO CODE`：`CNY`
请确保您的网站已经添加`CNY`货币并启用，否则该模块将无法使用  

## 安装
1. 下载 weixinpay.zip
2. 解压 weixinpay.zip
3. 复制 weixinpay 文件夹到 /moudles
4. 修改modules/logs 和 modules/views/cache 文件夹权限为可写状态
5. 现在您在后台>模块>支付网关>微信支付里使用了

#### 2016/12/17 v1.6.5 更新
1. 修正部署在非腾讯云下支付过程不稳定`BUG`。
2. 重新定义版本编号,格式为[Prestashop版本号].[更新次数]
```
 如版本号为 v1.6.5:
 1.6 表示模块适用于prestashop 1.6.x。
 5 表示第5次更新。  
```

#### 2016/10/25 v1.0.4 更新
1. 新增微信交易流水号，可在定单详情页->支付->Transaction ID处查看微信交易流水号。  
2. 切换扫码支付流程为模式一(进入微信扫码支付页将不会生成定单，用户可选择返回选择其它支付方式，但用户扫码后会生成定单，将不能再返回选择其它支付方式)  
3. 新增加公众号支付，用户用微信打开自制H5页模板后，点"启动微信支付"将直接打开微信支付，不再需要二维码。  
> (由于此次更新，需要配置微信端的参数繁多，请严格按照附录文档"2016-10-25升级说明文档.docx"设定)  

#### 2015/11/21 v1.0.2.1 更新
1. 修正当后台切换模板时，翻译不显示中文问题.  
2. 修正当用户支付成功时，会重复发送邮件给客户问题.  

#### 2015/11/12 v1.0.2 更新
1. 更新交易结算流程，具体：  
在用户扫描二维码之前，在后台生成"等待微信支付"状态的定单,  
用户扫描二维码并支付成功后，更改定单状态为"已支付成功"  
2. 新增"等待微信支付"状态  
3. 微信商户平台的商户定单号将显示定单的参考号(reference)  
4. 删除微信支付页的"选择其它支付"按钮,  
注(大多数用户可能认为"选择其它支付"是一个不错的方式，应该保留，但由于Prestashop的机制，  
先生成定单再去支付，购物车将被清空，购物车清空后，再无法再获取其它支付方式，  
如果先支付再等确定支付成功的情况再生成定单，这是此前版本的支付方式，这种方式存在一个bug，  
用户扫描二维码后，先不支付，然后去修改购物车信息，再去输入密码完成支付，那么会导致网站后台与微信平台支付金额不统一,  
因此建议用户升级到 v1.0.2 版本，虽然少了一个选择，但多了一份保障.  
